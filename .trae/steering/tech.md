# æŠ€æœ¯æ¶æ„ï¼šTrae AI å·¥ä½œæµç¨‹ç³»ç»Ÿ

## æ¶æ„æ¦‚è§ˆ

### ğŸ—ï¸ **æ•´ä½“æ¶æ„è®¾è®¡**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Trae AI å·¥ä½œæµç¨‹ç³»ç»Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”¨æˆ·ç•Œé¢å±‚ (UI Layer)                                       â”‚
â”‚  â”œâ”€â”€ Trae AI äº¤äº’ç•Œé¢                                       â”‚
â”‚  â”œâ”€â”€ é¡¹ç›®ç®¡ç†é¢æ¿                                           â”‚
â”‚  â””â”€â”€ æ–‡æ¡£é¢„è§ˆå’Œç¼–è¾‘                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic Layer)                          â”‚
â”‚  â”œâ”€â”€ å·¥ä½œæµç¨‹å¼•æ“                                           â”‚
â”‚  â”œâ”€â”€ ä»»åŠ¡ç®¡ç†å™¨                                             â”‚
â”‚  â”œâ”€â”€ æ–‡æ¡£ç”Ÿæˆå™¨                                             â”‚
â”‚  â””â”€â”€ AI é›†æˆæœåŠ¡                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®è®¿é—®å±‚ (Data Access Layer)                             â”‚
â”‚  â”œâ”€â”€ æ–‡ä»¶ç³»ç»Ÿç®¡ç†                                           â”‚
â”‚  â”œâ”€â”€ é…ç½®ç®¡ç†                                               â”‚
â”‚  â”œâ”€â”€ æ¨¡æ¿å¼•æ“                                               â”‚
â”‚  â””â”€â”€ ç‰ˆæœ¬æ§åˆ¶é›†æˆ                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)                          â”‚
â”‚  â”œâ”€â”€ Trae AI æ ¸å¿ƒ                                          â”‚
â”‚  â”œâ”€â”€ æ–‡ä»¶ç³»ç»Ÿ                                               â”‚
â”‚  â”œâ”€â”€ ç½‘ç»œé€šä¿¡                                               â”‚
â”‚  â””â”€â”€ å®‰å…¨è®¤è¯                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒæŠ€æœ¯æ ˆ

### ğŸ¤– **AI é›†æˆæŠ€æœ¯**
- **Trae AI æ ¸å¿ƒ**ï¼šä¸»è¦çš„ AI æ¨ç†å¼•æ“
- **ä¸Šä¸‹æ–‡ç®¡ç†**ï¼šæ™ºèƒ½ä¸Šä¸‹æ–‡æ„ŸçŸ¥å’Œä¼˜åŒ–
- **è‡ªç„¶è¯­è¨€å¤„ç†**ï¼šéœ€æ±‚ç†è§£å’Œä»£ç ç”Ÿæˆ
- **æ™ºèƒ½å»ºè®®ç³»ç»Ÿ**ï¼šåŸºäºé¡¹ç›®å†å²çš„æ™ºèƒ½å»ºè®®

### ğŸ“ **æ–‡ä»¶ç³»ç»Ÿæ¶æ„**
```
.trae/
â”œâ”€â”€ steering/           # é¡¹ç›®æŒ‡å¯¼æ–‡æ¡£
â”‚   â”œâ”€â”€ product.md      # äº§å“æ„¿æ™¯
â”‚   â”œâ”€â”€ tech.md         # æŠ€æœ¯æ¶æ„
â”‚   â””â”€â”€ structure.md    # é¡¹ç›®ç»“æ„
â”œâ”€â”€ specs/              # åŠŸèƒ½è§„æ ¼
â”‚   â””â”€â”€ [feature-name]/
â”‚       â”œâ”€â”€ requirements.md
â”‚       â”œâ”€â”€ design.md
â”‚       â”œâ”€â”€ tasks.md
â”‚       â””â”€â”€ implementation.md
â”œâ”€â”€ bugs/               # Bug ç®¡ç†
â”‚   â””â”€â”€ [bug-id]/
â”‚       â”œâ”€â”€ report.md
â”‚       â”œâ”€â”€ analysis.md
â”‚       â”œâ”€â”€ fix.md
â”‚       â””â”€â”€ verification.md
â”œâ”€â”€ templates/          # æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ spec-template.md
â”‚   â”œâ”€â”€ bug-template.md
â”‚   â””â”€â”€ task-template.md
â”œâ”€â”€ workflows/          # å·¥ä½œæµç¨‹å®šä¹‰
â”‚   â”œâ”€â”€ spec-workflow.md
â”‚   â”œâ”€â”€ bug-workflow.md
â”‚   â””â”€â”€ refactor-workflow.md
â”œâ”€â”€ guides/             # ä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ getting-started.md
â”‚   â”œâ”€â”€ best-practices.md
â”‚   â””â”€â”€ troubleshooting.md
â””â”€â”€ trae-config.json    # é…ç½®æ–‡ä»¶
```

## æ ¸å¿ƒç»„ä»¶è®¾è®¡

### ğŸ”„ **å·¥ä½œæµç¨‹å¼•æ“**

#### è§„æ ¼å·¥ä½œæµç¨‹ (Spec Workflow)
```mermaid
flowchart TD
    A[éœ€æ±‚åˆ†æ] --> B[è®¾è®¡é˜¶æ®µ]
    B --> C[ä»»åŠ¡åˆ†è§£]
    C --> D[å®ç°é˜¶æ®µ]
    D --> E[æµ‹è¯•éªŒè¯]
    E --> F[æ–‡æ¡£æ›´æ–°]
    F --> G[å®Œæˆ]
    
    B --> H{è®¾è®¡å®¡æŸ¥}
    H -->|é€šè¿‡| C
    H -->|ä¿®æ”¹| B
    
    D --> I{ä»£ç å®¡æŸ¥}
    I -->|é€šè¿‡| E
    I -->|ä¿®æ”¹| D
```

#### Bug ä¿®å¤å·¥ä½œæµç¨‹ (Bug Workflow)
```mermaid
flowchart TD
    A[Bug æŠ¥å‘Š] --> B[é—®é¢˜åˆ†æ]
    B --> C[ä¿®å¤æ–¹æ¡ˆ]
    C --> D[ä»£ç ä¿®å¤]
    D --> E[æµ‹è¯•éªŒè¯]
    E --> F[æ–‡æ¡£æ›´æ–°]
    F --> G[å®Œæˆ]
    
    C --> H{æ–¹æ¡ˆå®¡æŸ¥}
    H -->|é€šè¿‡| D
    H -->|ä¿®æ”¹| C
    
    E --> I{æµ‹è¯•ç»“æœ}
    I -->|é€šè¿‡| F
    I -->|å¤±è´¥| D
```

### ğŸ“Š **ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ**

#### ä»»åŠ¡çŠ¶æ€ç®¡ç†
```typescript
interface Task {
  id: string;
  title: string;
  description: string;
  status: 'pending' | 'in_progress' | 'completed' | 'blocked';
  priority: 'low' | 'medium' | 'high' | 'critical';
  assignee?: string;
  dependencies: string[];
  estimatedHours: number;
  actualHours?: number;
  createdAt: Date;
  updatedAt: Date;
  completedAt?: Date;
}

interface TaskManager {
  createTask(task: Omit<Task, 'id' | 'createdAt' | 'updatedAt'>): Task;
  updateTask(id: string, updates: Partial<Task>): Task;
  deleteTask(id: string): boolean;
  getTasks(filter?: TaskFilter): Task[];
  getTaskById(id: string): Task | null;
  getTaskDependencies(id: string): Task[];
  validateTaskDependencies(task: Task): boolean;
}
```

### ğŸ¯ **AI é›†æˆæœåŠ¡**

#### Trae AI æ¥å£è®¾è®¡
```typescript
interface TraeAIService {
  // éœ€æ±‚åˆ†æ
  analyzeRequirements(input: string): Promise<RequirementAnalysis>;
  
  // è®¾è®¡å»ºè®®
  generateDesign(requirements: Requirements): Promise<DesignSuggestion>;
  
  // ä»»åŠ¡åˆ†è§£
  breakdownTasks(design: Design): Promise<Task[]>;
  
  // ä»£ç ç”Ÿæˆ
  generateCode(task: Task): Promise<CodeSuggestion>;
  
  // ä»£ç å®¡æŸ¥
  reviewCode(code: string): Promise<CodeReview>;
  
  // Bug åˆ†æ
  analyzeBug(bugReport: BugReport): Promise<BugAnalysis>;
  
  // ä¿®å¤å»ºè®®
  suggestFix(bugAnalysis: BugAnalysis): Promise<FixSuggestion>;
}
```

### ğŸ“ **æ–‡æ¡£ç”Ÿæˆç³»ç»Ÿ**

#### æ¨¡æ¿å¼•æ“
```typescript
interface TemplateEngine {
  loadTemplate(templateName: string): Template;
  renderTemplate(template: Template, data: any): string;
  validateTemplate(template: Template): ValidationResult;
  registerHelper(name: string, helper: Function): void;
}

interface DocumentGenerator {
  generateRequirements(input: RequirementInput): string;
  generateDesign(requirements: Requirements): string;
  generateTasks(design: Design): string;
  generateImplementation(tasks: Task[]): string;
  generateBugReport(bugInput: BugInput): string;
  generateAnalysis(bugReport: BugReport): string;
}
```

## æ•°æ®æµè®¾è®¡

### ğŸ“ˆ **ä¿¡æ¯æµæ¶æ„**
```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant T as Trae AI
    participant W as å·¥ä½œæµç¨‹å¼•æ“
    participant D as æ–‡æ¡£ç”Ÿæˆå™¨
    participant F as æ–‡ä»¶ç³»ç»Ÿ
    
    U->>T: è¾“å…¥éœ€æ±‚
    T->>W: åˆ†æéœ€æ±‚
    W->>D: ç”Ÿæˆæ–‡æ¡£æ¨¡æ¿
    D->>F: ä¿å­˜æ–‡æ¡£
    F->>W: ç¡®è®¤ä¿å­˜
    W->>T: è¿”å›ç»“æœ
    T->>U: æ˜¾ç¤ºç”Ÿæˆçš„æ–‡æ¡£
    
    U->>T: ç¡®è®¤ç»§ç»­
    T->>W: è¿›å…¥ä¸‹ä¸€é˜¶æ®µ
    W->>D: ç”Ÿæˆè®¾è®¡æ–‡æ¡£
    D->>F: ä¿å­˜è®¾è®¡
    F->>W: ç¡®è®¤ä¿å­˜
    W->>T: è¿”å›è®¾è®¡
    T->>U: æ˜¾ç¤ºè®¾è®¡æ–‡æ¡£
```

### ğŸ”„ **çŠ¶æ€ç®¡ç†**
```typescript
interface WorkflowState {
  currentPhase: WorkflowPhase;
  completedPhases: WorkflowPhase[];
  pendingTasks: Task[];
  completedTasks: Task[];
  blockedTasks: Task[];
  projectMetadata: ProjectMetadata;
}

interface StateManager {
  getCurrentState(): WorkflowState;
  updateState(updates: Partial<WorkflowState>): void;
  saveState(): Promise<void>;
  loadState(): Promise<WorkflowState>;
  resetState(): void;
}
```

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### âš¡ **å“åº”æ€§èƒ½ä¼˜åŒ–**
- **æ‡’åŠ è½½**ï¼šæŒ‰éœ€åŠ è½½æ–‡æ¡£å’Œæ¨¡æ¿
- **ç¼“å­˜æœºåˆ¶**ï¼šæ™ºèƒ½ç¼“å­˜ AI å“åº”å’Œæ–‡æ¡£å†…å®¹
- **å¢é‡æ›´æ–°**ï¼šåªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†
- **å¹¶è¡Œå¤„ç†**ï¼šå¹¶è¡Œæ‰§è¡Œç‹¬ç«‹çš„ä»»åŠ¡

### ğŸ’¾ **å†…å­˜ç®¡ç†**
- **å¯¹è±¡æ± **ï¼šé‡ç”¨å¸¸ç”¨å¯¹è±¡
- **åƒåœ¾å›æ”¶**ï¼šåŠæ—¶æ¸…ç†ä¸éœ€è¦çš„èµ„æº
- **æµå¼å¤„ç†**ï¼šå¤§æ–‡ä»¶çš„æµå¼è¯»å†™
- **å‹ç¼©å­˜å‚¨**ï¼šå‹ç¼©å­˜å‚¨å¤§å‹æ–‡æ¡£

### ğŸ”§ **å¯æ‰©å±•æ€§è®¾è®¡**
- **æ’ä»¶æ¶æ„**ï¼šæ”¯æŒè‡ªå®šä¹‰å·¥ä½œæµç¨‹å’Œæ¨¡æ¿
- **API æ¥å£**ï¼šæä¾›æ ‡å‡†çš„æ‰©å±•æ¥å£
- **é…ç½®é©±åŠ¨**ï¼šé€šè¿‡é…ç½®æ–‡ä»¶è‡ªå®šä¹‰è¡Œä¸º
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—

## å®‰å…¨æ€§è€ƒè™‘

### ğŸ”’ **æ•°æ®å®‰å…¨**
- **æœ¬åœ°ä¼˜å…ˆ**ï¼šæ•æ„Ÿæ•°æ®ä¼˜å…ˆå­˜å‚¨åœ¨æœ¬åœ°
- **åŠ å¯†å­˜å‚¨**ï¼šé‡è¦é…ç½®å’Œæ•°æ®åŠ å¯†å­˜å‚¨
- **è®¿é—®æ§åˆ¶**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- **å®¡è®¡æ—¥å¿—**ï¼šå®Œæ•´çš„æ“ä½œå®¡è®¡æ—¥å¿—

### ğŸ›¡ï¸ **ä»£ç å®‰å…¨**
- **è¾“å…¥éªŒè¯**ï¼šä¸¥æ ¼çš„è¾“å…¥éªŒè¯å’Œæ¸…ç†
- **ä¾èµ–ç®¡ç†**ï¼šå®šæœŸæ›´æ–°å’Œå®‰å…¨æ‰«æ
- **é”™è¯¯å¤„ç†**ï¼šå®‰å…¨çš„é”™è¯¯å¤„ç†æœºåˆ¶
- **æœ€å°æƒé™**ï¼šæœ€å°æƒé™åŸåˆ™

## ç›‘æ§å’Œè¯Šæ–­

### ğŸ“Š **æ€§èƒ½ç›‘æ§**
- **å“åº”æ—¶é—´**ï¼šAI å“åº”å’Œæ–‡æ¡£ç”Ÿæˆæ—¶é—´
- **èµ„æºä½¿ç”¨**ï¼šå†…å­˜å’Œ CPU ä½¿ç”¨æƒ…å†µ
- **é”™è¯¯ç‡**ï¼šç³»ç»Ÿé”™è¯¯å’Œå¼‚å¸¸ç»Ÿè®¡
- **ç”¨æˆ·è¡Œä¸º**ï¼šç”¨æˆ·æ“ä½œæ¨¡å¼åˆ†æ

### ğŸ” **è¯Šæ–­å·¥å…·**
- **æ—¥å¿—ç³»ç»Ÿ**ï¼šç»“æ„åŒ–çš„æ—¥å¿—è®°å½•
- **è°ƒè¯•æ¨¡å¼**ï¼šè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯
- **å¥åº·æ£€æŸ¥**ï¼šç³»ç»Ÿç»„ä»¶å¥åº·çŠ¶æ€
- **æ€§èƒ½åˆ†æ**ï¼šæ€§èƒ½ç“¶é¢ˆåˆ†æå·¥å…·

## éƒ¨ç½²å’Œè¿ç»´

### ğŸš€ **éƒ¨ç½²ç­–ç•¥**
- **æœ¬åœ°éƒ¨ç½²**ï¼šå®Œå…¨æœ¬åœ°åŒ–çš„éƒ¨ç½²æ–¹æ¡ˆ
- **äº‘ç«¯é›†æˆ**ï¼šå¯é€‰çš„äº‘ç«¯æœåŠ¡é›†æˆ
- **å®¹å™¨åŒ–**ï¼šDocker å®¹å™¨åŒ–éƒ¨ç½²
- **è‡ªåŠ¨åŒ–éƒ¨ç½²**ï¼šCI/CD è‡ªåŠ¨åŒ–æµç¨‹

### ğŸ”§ **è¿ç»´ç®¡ç†**
- **é…ç½®ç®¡ç†**ï¼šé›†ä¸­åŒ–çš„é…ç½®ç®¡ç†
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šå®Œæ•´çš„ç‰ˆæœ¬æ§åˆ¶å’Œå›æ»š
- **å¤‡ä»½æ¢å¤**ï¼šè‡ªåŠ¨åŒ–çš„å¤‡ä»½å’Œæ¢å¤
- **æ›´æ–°æœºåˆ¶**ï¼šå®‰å…¨çš„è‡ªåŠ¨æ›´æ–°æœºåˆ¶